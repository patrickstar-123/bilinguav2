# ğŸ”„ Update Workflow - Figma Make to Production

## ğŸ“Š Visual Workflow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FIGMA MAKE (YOU)                      â”‚
â”‚  âœï¸ Edit components, fix bugs, add features              â”‚
â”‚  ğŸ¨ Design new UI, update content                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
              â¬‡ï¸ DOWNLOAD CODE
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  LOCAL COMPUTER                          â”‚
â”‚  ğŸ“ Replace all files in project folder                  â”‚
â”‚  ğŸ’¾ Save changes                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
           ğŸ”„ GIT COMMIT & PUSH
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     GITHUB                               â”‚
â”‚  ğŸ“¦ Repository: bilinguav2                               â”‚
â”‚  ğŸŒ¿ Branch: main                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
        âš¡ AUTO-TRIGGER (Webhook)
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     VERCEL                               â”‚
â”‚  ğŸ—ï¸ Build: npm run build (30-60 seconds)                â”‚
â”‚  âœ… Deploy to CDN (Global)                               â”‚
â”‚  ğŸŒ Update: https://bilinguav2.vercel.app                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
         ğŸ‰ LIVE TO ALL USERS!
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  END USERS (PUBLIC)                      â”‚
â”‚  ğŸ“± Android: Installed as PWA                            â”‚
â”‚  ğŸ“± iOS: Installed as PWA                                â”‚
â”‚  ğŸ’» Desktop: Installed as App                            â”‚
â”‚  ğŸŒ Browser: Direct web access                           â”‚
â”‚  â™»ï¸ Auto-refresh on next visit (gets latest version)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## â±ï¸ Timeline

| Step | Duration | Who |
|------|----------|-----|
| Edit in Figma Make | Varies | You |
| Download code | 5 seconds | You |
| Replace files locally | 30 seconds | You |
| Git commit & push | 10 seconds | You |
| Vercel auto-build | 30-60 seconds | Automatic |
| CDN propagation | Instant | Automatic |
| **Total** | **~2 minutes** | **From push to live!** |

---

## ğŸ¯ One-Time Setup vs Regular Updates

### âœ… ONE-TIME SETUP (30 minutes)

```
1. Create GitHub account
2. Create Vercel account (link to GitHub)
3. Create repository
4. First deployment
5. Add environment variables
6. Test deployment
```

**You only do this ONCE!**

---

### ğŸ”„ REGULAR UPDATES (2 minutes)

```
1. Edit in Figma Make       [as long as you want]
2. Download code            [5 seconds]
3. Replace files            [30 seconds]
4. Git push                 [10 seconds]
5. Wait for auto-deploy     [60 seconds]
6. âœ… LIVE!
```

**Do this EVERY TIME you update!**

---

## ğŸ“ Step-by-Step Commands

### For GitHub Desktop Users (EASIEST):

1. Open **GitHub Desktop**
2. Click **Fetch origin** (top right)
3. You'll see changed files automatically
4. Type commit message: `"Update UI from Figma Make"`
5. Click **Commit to main**
6. Click **Push origin** (top right)
7. âœ… Done!

---

### For Command Line Users:

```bash
# Navigate to project folder
cd /path/to/bilinguav2

# Check what changed
git status

# Stage all changes
git add .

# Commit with message
git commit -m "Update: Added new level menu design"

# Push to GitHub
git push origin main

# Check deployment status
# Open: https://vercel.com/dashboard
```

---

## ğŸ” How Users Get Updates

### ğŸ”„ Automatic Update Flow:

```
User opens app â†’ Browser checks for updates â†’ New version downloads â†’ App reloads â†’ âœ… Updated!
```

**No action required from users!** They just open the app normally.

---

### ğŸ“± Service Worker Update Strategy:

The PWA service worker (`/public/sw.js`) handles:

1. **Cache Strategy**: Network-first for HTML/API
2. **Asset Caching**: CSS, JS, images cached
3. **Update Detection**: Checks on every app open
4. **Background Sync**: Downloads updates in background
5. **Prompt User**: "New version available, refresh?"

Users see: 
```
ğŸ”„ New version available!
[Refresh Now] [Later]
```

---

## ğŸ¨ Best Practices for Updates

### âœ… DO:

- **Test in Figma Make first** before deploying
- **Write clear commit messages**: "Fix: Japanese level bug", "Add: New HSK 4 vocabulary"
- **Deploy small updates frequently** (safer than big changes)
- **Check Vercel build logs** if deployment fails
- **Announce major updates** to users (in-app notification)

### âŒ DON'T:

- **Don't push broken code** (test first!)
- **Don't deploy on Friday evening** (if something breaks, you can't fix until Monday)
- **Don't skip commit messages** (you'll forget what you changed)
- **Don't delete environment variables** by accident

---

## ğŸš¨ Emergency Rollback

If you deploy a buggy update:

### Option 1: Quick Fix (RECOMMENDED)
```bash
# Fix the bug in Figma Make
# Download code
# Push fix immediately
git add .
git commit -m "Hotfix: Restore working version"
git push
```

### Option 2: Revert to Previous Version
```bash
# Undo last commit
git revert HEAD
git push

# Or rollback to specific commit
git reset --hard COMMIT_HASH
git push --force
```

### Option 3: Vercel Instant Rollback
1. Go to Vercel dashboard
2. Click **Deployments**
3. Find working version
4. Click **...** â†’ **Promote to Production**
5. âœ… Instant rollback!

---

## ğŸ“Š Monitoring Your App

### Vercel Dashboard Shows:

- âœ… **Deployment status** (Building, Success, Failed)
- ğŸ“ˆ **Analytics** (visitors, page views)
- âš¡ **Performance** (load time, Core Web Vitals)
- ğŸ› **Errors** (runtime errors from users)
- ğŸŒ **Geographic data** (where users are from)

### Check After Each Deploy:

1. âœ… Deployment successful?
2. âœ… No build errors?
3. âœ… Test app on phone (install as PWA)
4. âœ… Check console for errors (F12)
5. âœ… Test key features (login, level access, etc)

---

## ğŸ’¡ Advanced: Multiple Environments

### Production + Staging Setup:

```
main branch        â†’ Production  â†’ https://bilinguav2.vercel.app
dev branch         â†’ Staging     â†’ https://bilinguav2-dev.vercel.app
feature branches   â†’ Previews    â†’ https://bilinguav2-pr-123.vercel.app
```

**Benefits:**
- Test updates on staging before production
- Show clients preview URLs
- Safe experimentation

**How to set up:**
1. Create `dev` branch in GitHub
2. Vercel auto-creates staging deployment
3. Merge to `main` when ready for production

---

## ğŸ‰ Success Checklist

After each update, verify:

- [ ] Code downloaded from Figma Make
- [ ] Files replaced in local folder
- [ ] Git push successful
- [ ] Vercel build completed (green âœ“)
- [ ] App loads correctly in browser
- [ ] PWA install works on mobile
- [ ] Login/features working
- [ ] No console errors
- [ ] Users can access without issues

---

## ğŸ“ Common Issues

### Issue: "Build Failed"
**Solution:** Check build logs in Vercel, fix syntax errors, push again

### Issue: "Environment variables not found"
**Solution:** Add in Vercel â†’ Settings â†’ Environment Variables â†’ Redeploy

### Issue: "PWA not updating"
**Solution:** Hard refresh (Ctrl+Shift+R), clear cache, uninstall & reinstall

### Issue: "GitHub Desktop not showing changes"
**Solution:** Click "Fetch origin", make sure you're in correct repository

---

**Ready to deploy? Follow `/QUICK_DEPLOY.md` for setup! ğŸš€**
